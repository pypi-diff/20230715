# Comparing `tmp/spyprot-0.8.2-py3-none-any.whl.zip` & `tmp/spyprot-0.8.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,19 +1,19 @@
-Zip file size: 42686 bytes, number of entries: 17
--rw-rw-r--  2.0 unx     4889 b- defN 21-Oct-18 11:17 spyprot/Command.py
--rw-rw-r--  2.0 unx     2862 b- defN 21-Oct-18 11:17 spyprot/EditPdbXyz.py
--rw-rw-r--  2.0 unx      236 b- defN 21-Jan-27 16:33 spyprot/__init__.py
--rw-rw-r--  2.0 unx     2226 b- defN 21-Oct-18 11:17 spyprot/cddf_parser.py
--rw-rw-r--  2.0 unx    21726 b- defN 22-Jan-28 13:31 spyprot/cif2Wanda.py
--rw-rw-r--  2.0 unx     2034 b- defN 21-Nov-21 13:34 spyprot/common.py
--rw-rw-r--  2.0 unx    17949 b- defN 22-Nov-20 11:27 spyprot/fetchAnnotations.py
--rw-rw-r--  2.0 unx    39414 b- defN 22-Nov-23 00:57 spyprot/fetchChainInfo.py
--rw-rw-r--  2.0 unx    18701 b- defN 21-Oct-18 11:17 spyprot/fetchPDBinfo.py
--rw-rw-r--  2.0 unx    10504 b- defN 21-Nov-19 00:47 spyprot/idMapping.py
--rw-rw-r--  2.0 unx     5937 b- defN 23-Jul-01 07:58 spyprot/ilbsm_database_downloader.py
--rw-rw-r--  2.0 unx    22843 b- defN 21-Oct-18 11:17 spyprot/pdb2Wanda.py
--rw-rw-r--  2.0 unx    15115 b- defN 21-Nov-18 01:38 spyprot/spyProt.py
--rw-rw-r--  2.0 unx     1715 b- defN 23-Jul-01 08:03 spyprot-0.8.2.dist-info/METADATA
--rw-rw-r--  2.0 unx       86 b- defN 23-Jul-01 08:03 spyprot-0.8.2.dist-info/WHEEL
--rw-rw-r--  2.0 unx        8 b- defN 23-Jul-01 08:03 spyprot-0.8.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1330 b- defN 23-Jul-01 08:03 spyprot-0.8.2.dist-info/RECORD
-17 files, 167575 bytes uncompressed, 40544 bytes compressed:  75.8%
+Zip file size: 42736 bytes, number of entries: 17
+-rw-rw-r--  2.0 unx     4889 b- defN 21-Mar-23 10:52 spyprot/Command.py
+-rw-rw-r--  2.0 unx     2862 b- defN 21-Oct-19 10:38 spyprot/EditPdbXyz.py
+-rw-rw-r--  2.0 unx      236 b- defN 21-Jan-28 02:52 spyprot/__init__.py
+-rw-rw-r--  2.0 unx     2226 b- defN 21-Mar-23 10:52 spyprot/cddf_parser.py
+-rw-rw-r--  2.0 unx    21726 b- defN 22-Jul-26 14:11 spyprot/cif2Wanda.py
+-rw-rw-r--  2.0 unx     2034 b- defN 21-Apr-14 22:10 spyprot/common.py
+-rw-rw-r--  2.0 unx    18155 b- defN 23-Jul-15 13:14 spyprot/fetchAnnotations.py
+-rw-rw-r--  2.0 unx    39414 b- defN 22-Dec-19 10:01 spyprot/fetchChainInfo.py
+-rw-rw-r--  2.0 unx    18701 b- defN 21-Nov-21 10:51 spyprot/fetchPDBinfo.py
+-rw-rw-r--  2.0 unx    10504 b- defN 21-Nov-21 10:50 spyprot/idMapping.py
+-rw-rw-r--  2.0 unx     5937 b- defN 23-Jul-15 13:00 spyprot/ilbsm_database_downloader.py
+-rw-rw-r--  2.0 unx    22843 b- defN 21-Apr-14 22:10 spyprot/pdb2Wanda.py
+-rw-rw-r--  2.0 unx    15115 b- defN 21-Nov-21 00:41 spyprot/spyProt.py
+-rw-rw-r--  2.0 unx     1678 b- defN 23-Jul-15 13:18 spyprot-0.8.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       86 b- defN 23-Jul-15 13:18 spyprot-0.8.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        8 b- defN 23-Jul-15 13:18 spyprot-0.8.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1330 b- defN 23-Jul-15 13:18 spyprot-0.8.4.dist-info/RECORD
+17 files, 167744 bytes uncompressed, 40594 bytes compressed:  75.8%
```

## zipnote {}

```diff
@@ -33,20 +33,20 @@
 
 Filename: spyprot/pdb2Wanda.py
 Comment: 
 
 Filename: spyprot/spyProt.py
 Comment: 
 
-Filename: spyprot-0.8.2.dist-info/METADATA
+Filename: spyprot-0.8.4.dist-info/METADATA
 Comment: 
 
-Filename: spyprot-0.8.2.dist-info/WHEEL
+Filename: spyprot-0.8.4.dist-info/WHEEL
 Comment: 
 
-Filename: spyprot-0.8.2.dist-info/top_level.txt
+Filename: spyprot-0.8.4.dist-info/top_level.txt
 Comment: 
 
-Filename: spyprot-0.8.2.dist-info/RECORD
+Filename: spyprot-0.8.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## spyprot/fetchAnnotations.py

```diff
@@ -248,37 +248,40 @@
        chain: string
 
        Return
        ======
        results: list of tuples containing attributes: pdbid, chain, pfam_short, pfam_desc, pfam accession code, knot_type, coverage
        '''
 
-    def __init__(self, pdb, chain='A'):
+    def __init__(self, pdb, chain='A', sequence=None, entangled_regions={}, knotprot_ends={}):
         super().__init__([PDB_CHAIN_PFAM, PFAM_DESC], pdb, chain)
         self.uniprot = ""
         self.pfam_domains = {}
-        self.entangled_regions = {}
+        self.entangled_regions = entangled_regions
         self.coverage = {}
         self.domains = {}
         self.pfam_mappings = {}
+        self.knotprot_ends = knotprot_ends
+        self.sequence = sequence
 
         with urllib.request.urlopen(Uni + pdb) as url:
             data = json.loads(url.read().decode())
             self.uniprot = (list(data[pdb]['UniProt'].keys())[0])
 
         with urllib.request.urlopen(PDBe + self.uniprot) as url:
             data = json.loads(url.read().decode())
             if data[self.uniprot]['Pfam'].keys() != []:
                 for i in data[self.uniprot]['Pfam'].keys():
                     self.pfam_domains[i] = data[self.uniprot]['Pfam'][
                         i]  # pfam_domain --> {pfam: {mappinngs, identifier, description}}
                     self.pfam_mappings[i] = [self.pfam_domains[i]['mappings'][0]['unp_start'],
                                              self.pfam_domains[i]['mappings'][0]['unp_end']]
 
-                self.entangled_regions = PfamAnnotation.get_entangled_region(pdb, chain)
+                if not self.entangled_regions:
+                    self.entangled_regions = self.get_entangled_region(pdb, chain)
                 self.coverage, self.domains = PfamAnnotation.get_entangled_domains(self.entangled_regions,
                                                                                    self.pfam_mappings)
 
                 for e in set(self.domains.values()):
                     a, b, c = self._get_names(e)
                     k = self.which_knot(self.domains, e)
                     for i in k:
@@ -369,21 +372,21 @@
             site = s.get("https://rest.uniprot.org/uniprotkb/search?query=xref:pdb-{}&format=fasta".format(pdb_id),
                          allow_redirects=False)
             if site.text:
                 return site.text.split(">")
             else:
                 raise MyValidationError("error: Couldn't find protein sequence in UniProt based on PDB id.")
 
-    @staticmethod
-    def get_entangled_region(pdb_id, chain_id):
+
+    def get_entangled_region(self, pdb_id, chain_id):
         protein_id = PfamAnnotation.seq_from_uniprot(pdb_id)
         seq_protein = PfamAnnotation.fasta2string(protein_id)  # fasta file
-        seq_structure = PfamAnnotation.seq_structure_from_knotprot(pdb_id,
-                                                                   chain_id)  # returns the sequence of the structure that was used to compute entanglement in KnotProt
-        knotprot_ends = PfamAnnotation.nc_cuts_from_knotprot(pdb_id, chain_id)
+        seq_structure = PfamAnnotation.seq_structure_from_knotprot(pdb_id, chain_id) if not self.sequence else self.sequence
+        # returns the sequence of the structure that was used to compute entanglement in KnotProt
+        knotprot_ends = PfamAnnotation.nc_cuts_from_knotprot(pdb_id, chain_id) if not self.knotprot_ends else self.knotprot_ends
         entangled_regions = {}
         for knot in knotprot_ends:
             knotprot_N_end = knotprot_ends[knot][0]
             knotprot_C_end = knotprot_ends[knot][1]
             seq_structure_with_gaps, start_region, stop_region = PfamAnnotation.get_region(seq_protein, seq_structure)
             if seq_structure_with_gaps:
                 entangled_region_start = start_region + knotprot_N_end
```

## Comparing `spyprot-0.8.2.dist-info/METADATA` & `spyprot-0.8.4.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,42 +1,38 @@
 Metadata-Version: 2.1
 Name: spyprot
-Version: 0.8.2
+Version: 0.8.4
 Summary: This package provides a set of tools for accessing protein databases and manipulating PDB/CIF files.
 Home-page: https://github.com/ilbsm/spyProt
 Author: INTERDISCIPLINARY LABORATORY of BIOLOGICAL SYSTEMS MODELLING, University of Warsaw, Warsaw, Poland
 Author-email: bmjastrzebski@gmail.com, p.rubach@cent.uw.edu.pl
-License: UNKNOWN
-Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.6
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Operating System :: OS Independent
 Requires-Python: >=3.6.0
 Description-Content-Type: text/markdown
-Requires-Dist: biopython (>1.60)
+Requires-Dist: tqdm (>=4.31.1)
 Requires-Dist: lxml (>=4.5.0)
-Requires-Dist: psutil (>5.6.0)
-Requires-Dist: pysolr (>=3.9.0)
 Requires-Dist: requests (>=2.0.0)
+Requires-Dist: biopython (>1.60)
+Requires-Dist: psutil (>5.6.0)
 Requires-Dist: subprocess32 (>=3.5.0)
-Requires-Dist: tqdm (>=4.31.1)
 Requires-Dist: wget (>=3.0)
+Requires-Dist: pysolr (>=3.9.0)
 
 # spyProt ![Python package](https://github.com/ilbsm/spyProt/workflows/Python%20package/badge.svg)
 
 Rapid protein overview from multiple databases (RCSB, PDBe, UniProt etc.)
 
 Includes the  ilbsm_database_downloader used to download data from [ILBSM databases](https://jsulkowska.cent.uw.edu.pl/) such as: 
 - [AlphaKnot](https://alphaknot.cent.uw.edu.pl/)
 - [Knotprot](https://knotprot.cent.uw.edu.pl/)
 - [LassoProt](https://lassoprot.cent.uw.edu.pl/)
 - [Genus](https://genus.fuw.edu.pl/)
 
 Have a look at tests to see how to use it.
-
-
```

## Comparing `spyprot-0.8.2.dist-info/RECORD` & `spyprot-0.8.4.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,17 +1,17 @@
 spyprot/Command.py,sha256=Ya7dK-PpPkrh3LNqkMzDTlLHUx1MmMPRnfROzChtQcA,4889
 spyprot/EditPdbXyz.py,sha256=BxrPrDlgBWS9L-xuKjcoQJEebeizBhhllNDxmKBYaF4,2862
 spyprot/__init__.py,sha256=DejefbjzD1rNWM2RLvzExG4Ee68mjIKbDeVNAzYLFEs,236
 spyprot/cddf_parser.py,sha256=D759I_uKAD-nixDSCz8txnnVGU9oPegE0D00vT-4cwg,2226
 spyprot/cif2Wanda.py,sha256=0-7N1vviI8Wv_yIk14RQD1QxOv2tTwyrOh2Noe51wKE,21726
 spyprot/common.py,sha256=fVC5p06aVb3_I7SdiHfY_aTyTo4pcXcj0erFae-MBTY,2034
-spyprot/fetchAnnotations.py,sha256=fkOeIHeARdlknSkS8pLKYE6N8DGURn-O5SkQNq-yVeQ,17949
+spyprot/fetchAnnotations.py,sha256=ZfHq07L96P6KrgJHhUVft8TZubhGbKAHUcSrTz30-8s,18155
 spyprot/fetchChainInfo.py,sha256=_jE7McWSt4FjB3SevjGulJTfwjBtlTFbDXcZGMLsVTQ,39414
 spyprot/fetchPDBinfo.py,sha256=id9Iujp_kA22SwhbSv64lVBAfruYHiT_kDIK62WlfDI,18701
 spyprot/idMapping.py,sha256=Dv3LoaAOHrj-g_3EPTsUOJeSvYCPaxJRB3P0xmdgErg,10504
 spyprot/ilbsm_database_downloader.py,sha256=NyMShpkbkgHYyTcYd_xYBNXYm0cbe80CkQWBny55qb0,5937
 spyprot/pdb2Wanda.py,sha256=z76oJrWNw-uxCfiMh4oNdXidrYAl1gozL2HWRABktb4,22843
 spyprot/spyProt.py,sha256=uWTqTJ5ikZ4IJFo9Ne7eoNxWMnpjdllf1DtdqT1U8OQ,15115
-spyprot-0.8.2.dist-info/METADATA,sha256=FsEVLeLChzM3d1TAv2G5nVE0PEeToGaONry325AibZA,1715
-spyprot-0.8.2.dist-info/WHEEL,sha256=DueAsW6E8XIw2snDYANiEbP441s0xNQrJIWO3pKUKFM,86
-spyprot-0.8.2.dist-info/top_level.txt,sha256=_JSz314Is19_4IVMW8VzAtpHCueCVF2yP6Lz7aQAYug,8
-spyprot-0.8.2.dist-info/RECORD,,
+spyprot-0.8.4.dist-info/METADATA,sha256=q_6uT17NnFHd4Ez87xdo1MiKHAxg3W2NqCu5w0fhikQ,1678
+spyprot-0.8.4.dist-info/WHEEL,sha256=DueAsW6E8XIw2snDYANiEbP441s0xNQrJIWO3pKUKFM,86
+spyprot-0.8.4.dist-info/top_level.txt,sha256=_JSz314Is19_4IVMW8VzAtpHCueCVF2yP6Lz7aQAYug,8
+spyprot-0.8.4.dist-info/RECORD,,
```

